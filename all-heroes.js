heroConfigs = [
    {
        "faction": "horde",
        "heroName": "Aethas Sunreaver",
        "heroTitle": "Archmage",
        "heroQuote": "\"We must overcome the mistakes of the past.\"",
        "heroImageUrl": "aethas-sunreaver.jpg",
        "heroImagePosition": "11px -48px",
        "heroImageSize": "96%",
        "health": 7,
        "startingLocation": "DALARAN",
        "startingZone": "green",
        "power1Name": "FIREBALL",
        "power1DescPrefix": "Free Action: ",
        "power1DescSuffix": "Remove 1 ghoul from your space. Limit once per turn.",
        "power2Name": "BLINK",
        "power2DescPrefix": "Free Action: ",
        "power2DescSuffix": "Move to a connected space. Limit once per turn."
    },
    {
        "faction": "hs",
        "heroName": "Alexstrasza",
        "heroTitle": "The Life-Binder",
        "heroQuote": "\"Life itself is with you.\"",
        "heroImageUrl": "alexstrasza.png",
        "heroImagePosition": "5px -20px",
        "heroImageSize": "cover",
        "health": 8,
        "startingLocation": "WYRMREST TEMPLE",
        "startingZone": "purple",
        "power1Name": "GIFT OF LIFE",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "One hero in your space or connected space heals 2, and you suffer 1 damage. Limit once per turn.",
        "power2Name": "FLAME BUFFET",
        "power2DescPrefix": "Free Action: ",
        "power2DescSuffix": "Remove 1 ghoul from your space and move up to 1 enemy to a connected space. Limit once per turn."
    },
    {
        "faction": "alliance",
        "heroName": "Bolvar Fordragon",
        "heroTitle": "Highlord",
        "heroQuote": "\"I don't know what awaits us.\"",
        "heroImageUrl": "bolvar-fordragon.jpg",
        "heroImagePosition": "10px -28px",
        "heroImageSize": "96%",
        "health": 7,
        "startingLocation": "VALIANCE KEEP",
        "startingZone": "red",
        "power1Name": "Crusader Strike",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Remove up to 2 ghouls from your space. Limit once per turn.",
        "power2Name": "FORDRAGON'S RESOLVE",
        "power2DescPrefix": "",
        "power2DescSuffix": "Heroes in your space have +üõ°Ô∏è when they fight."
    },
    {
        "faction": "hs",
        "heroName": "Brann Bronzebeard",
        "heroTitle": "Leader of the Explorers' League",
        "heroQuote": "\"The answers are here, I can feel it.\"",
        "heroImageUrl": "brann-bronzebeard.png",
        "heroImagePosition": "0px 0px",
        "heroImageSize": "cover",
        "health": 6,
        "startingLocation": "TEMPLE OF STORMS",
        "startingZone": "green",
        "power1Name": "SURVEY",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "+‚úäüèº when you quest this turn. Limit once per turn.",
        "power2Name": "HISTORIAN",
        "power2DescPrefix": "",
        "power2DescSuffix": "When you quest, you may contribute the top card of the hero discard pile as if it were in your hand."
    },
    {
        "faction": "hs",
        "heroName": "Chromie",
        "heroTitle": "Ambassador of the Bronze Dragonflight",
        "heroQuote": "\"Is this the first time we've met?\"",
        "heroImageUrl": "chromie.jpg",
        "heroImagePosition": "8px -16px",
        "heroImageSize": "cover",
        "health": 8,
        "startingLocation": "WYRMREST TEMPLE",
        "startingZone": "purple",
        "power1Name": "REWIND",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Move the top card from the hero discard pile into your hand. Limit once per turn.",
        "power2Name": "SEE THE FUTURE",
        "power2DescPrefix": "",
        "power2DescSuffix": "At the start of your turn, flip the top card of the Scourge deck face up."
    },
    {
        "faction": "horde",
        "heroName": "Dranosh Saurfang",
        "heroTitle": "Commander of the Kor'kron Vanguard",
        "heroQuote": "\"Blood and glory await us!\"",
        "heroImageUrl": "dranosh-saurfang.png",
        "heroImagePosition": "-15px 4px",
        "heroImageSize": "cover",
        "health": 6,
        "startingLocation": "THE WRATHGATE",
        "startingZone": "red",
        "power1Name": "CHARGE",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Move to a connected space and fight in that space. Limit once per turn.",
        "power2Name": "ENRAGE",
        "power2DescPrefix": "",
        "power2DescSuffix": "+‚úäüèº when you fight if you have 4 health or less."
    },
    {
        "faction": "hs",
        "heroName": "Darion Mograine",
        "heroTitle": "Leader of The Knights of the Ebon Blade",
        "heroQuote": "\"The Knights of the Ebon Blade will not falter.\"",
        "heroImageUrl": "darion-mograine.png",
        "heroImagePosition": "-71px 2px",
        "heroImageSize": "cover",
        "health": 7,
        "startingLocation": "SHADOW VAULT",
        "startingZone": "green",
        "power1Name": "DARK COMMAND",
        "power1DescPrefix": "Free Action: ",
        "power1DescSuffix": "Roll 1 die, remove 1 ghoul in your space for each rolled ‚úäüèº. Limit once per turn.",
        "power2Name": "CORPSE EXPLOSION",
        "power2DescPrefix": "",
        "power2DescSuffix": "For every 2 enemies that die in your space during your actions, deal 1 damage among enemies in connected spaces."
    },
    {
        "faction": "horde",
        "heroName": "Elite Tauren Chieftain",
        "heroTitle": "Rock God",
        "heroQuote": "\"I am Murloc!\"",
        "heroImageUrl": "elite-tauren-chieftain.jpg",
        "heroImagePosition": "-77px 1px",
        "heroImageSize": "136%",
        "health": 7,
        "startingLocation": "THE NEXUS",
        "startingZone": "red",
        "power1Name": "MOSH PIT",
        "power1DescPrefix": "Free Action: ",
        "power1DescSuffix": "Remove up to 2 ghouls from your space. Heroes in your space suffer 1 damage each. Limit once per turn.",
        "power2Name": "PUMPED UP!",
        "power2DescPrefix": "",
        "power2DescSuffix": "Heroes in your space have +üõ°Ô∏è when they quest."
    },
    {
        "faction": "alliance",
        "heroName": "Jaina Proudmoore",
        "heroTitle": "Archmage",
        "heroQuote": "\"You asked for it.\"",
        "heroImageUrl": "jaina-proudmoore.png",
        "heroImagePosition": "10px -5px",
        "heroImageSize": "cover",
        "health": 6,
        "startingLocation": "VALIANCE KEEP",
        "startingZone": "red",
        "power1Name": "BLIZZARD",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Remove up to 2 ghouls from a connected space. Each hero in that space takes 1 damage. Limit once per turn.",
        "power2Name": "ICE ARMOR",
        "power2DescPrefix": "",
        "power2DescSuffix": "+üõ°Ô∏è when you quest."
    },
    {
        "faction": "hs",
        "heroName": "Kalecgos",
        "heroTitle": "Ambassador of the Blue Dragonflight",
        "heroQuote": "\"The fate of the world hangs in the balance.\"",
        "heroImageUrl": "kalecgos.png",
        "heroImagePosition": "-14px 5px",
        "heroImageSize": "148%",
        "health": 8,
        "startingLocation": "WYRMREST TEMPLE",
        "startingZone": "purple",
        "power1Name": "BLAZING SHADOWS",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Move up to 2 spaces. Remove 1 ghoul from each space you exit. Limit once per turn.",
        "power2Name": "KALECGOS' TELEPORT",
        "power2DescPrefix": "Action: ",
        "power2DescSuffix": "Move any hero in your space to any space in your region. Limit once per turn."
    },
    {
        "faction": "horde",
        "heroName": "Putress",
        "heroTitle": "Grand Apothecary",
        "heroQuote": "\"Did you think we had forgotten?\"",
        "heroImageUrl": 'putress.jpg',
        "heroImagePosition": "10px 0px",
        "heroImageSize": "96%",
        "health": 6,
        "startingLocation": "THE WRATHGATE",
        "startingZone": "red",
        "power1Name": "NEW PLAGUE",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Remove all abominations and ghouls in a connected space. All heroes in that space die. Limit once per turn.",
        "power2Name": "COUP PLOTTER",
        "power2DescPrefix": "",
        "power2DescSuffix": "You cannot use hero card effects on other heroes."
    },
    {
        "faction": "hs",
        "heroName": "Rhonin",
        "heroTitle": "Leader of the Kirin Tor",
        "heroQuote": "\"Citizens of Dalaran!\"",
        "heroImageUrl": "rhonin.png",
        "heroImagePosition": "0px 0px",
        "heroImageSize": "cover",
        "health": 6,
        "startingLocation": "DALARAN",
        "startingZone": "green",
        "power1Name": "ARCANE EXPLOSION",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Remove up to 2 ghouls among your space and connected spaces. Limit once per turn.",
        "power2Name": "DALARAN SUMMON",
        "power2DescPrefix": "Action: ",
        "power2DescSuffix": "Move a hero in your region to Dalaran. Limit once per turn."
    },
    {
        "faction": "hs",
        "heroName": "Sally Whitemane",
        "heroTitle": "High Inquisitor of the Scarlett Crusade",
        "heroQuote": "\"The light has spoken!\"",
        "heroImageUrl": "sally-whitemane.png",
        "heroImagePosition": "-1px -31px",
        "heroImageSize": "cover",
        "health": 6,
        "startingLocation": "UTGARDE KEEP",
        "startingZone": "purple",
        "power1Name": "DESPERATE PLEA",
        "power1DescPrefix": "Free Action: ",
        "power1DescSuffix": "Roll 1 die, 1 hero in your space heals 1 for each rolled ‚úäüèº. Limit once per turn.",
        "power2Name": "DEEP SLEEP",
        "power2DescPrefix": "Action: ",
        "power2DescSuffix": "Stop all abominations in your space and connected spaces from activating this turn. Limit once per turn."
    },
    {
        "faction": "argent",
        "heroName": "Tirion Fordring",
        "heroTitle": "Highlord of the Argent Crusade",
        "heroQuote": "\"This is our final stand.\"",
        "heroImageUrl": "tirion-holy-light.jpg",
        "heroImagePosition": "-12px 5px",
        "heroImageSize": "108%",
        "health": 7,
        "startingLocation": "THE BREACH",
        "startingZone": "green",
        "power1Name": "HOLY LIGHT",
        "power1DescPrefix": "Free Action: ",
        "power1DescSuffix": "Another hero in your space heals 1 or remove 1 ghoul from your space. Limit once per turn.",
        "power2Name": "DIVINE SHIELD",
        "power2DescPrefix": "Action: ",
        "power2DescSuffix": "You take no damage for the rest of this turn."
    },
    {
        "faction": "alliance",
        "heroName": "Valeera Sanguinar",
        "heroTitle": "Champion of the Crimson Ring",
        "heroQuote": "\"Respect my people, or pay the price!\"",
        "heroImageUrl": "valeera-sanguinar.png",
        "heroImagePosition": "10px -5px",
        "heroImageSize": "cover",
        "health": 7,
        "startingLocation": "VALIANCE KEEP",
        "startingZone": "red",
        "power1Name": "SINISTER STRIKE",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Move to a connected space and remove 1 ghoul from that space. Limit once per turn.",
        "power2Name": "POISONED BLADES",
        "power2DescPrefix": "",
        "power2DescSuffix": "+‚úäüèº when you fight."
    },
    {
        "faction": "alliance",
        "heroName": "Vereesa Windrunner",
        "heroTitle": "Ranger-General of the Silver Covenant",
        "heroQuote": "\"We have all lost so much.\"",
        "heroImageUrl": "vereesa-windrunner.jpg",
        "heroImagePosition": "9px -64px",
        "heroImageSize": "96%",
        "health": 6,
        "startingLocation": "DALARAN",
        "startingZone": "green",
        "power1Name": "MULTI-SHOT",
        "power1DescPrefix": "Action: ",
        "power1DescSuffix": "Deal up to 3 damage in your space. Limit once per turn.",
        "power2Name": "TRACK",
        "power2DescPrefix": "",
        "power2DescSuffix": "At the start of your turn, flip the top card of the hero deck faceup."
    },
]

window.addEventListener('load', function() {
  const checkboxList = document.querySelector('.list-of-heroes');
  for (var i = 0; i < heroConfigs.length; i++) {
    // Create checkbox input element
    const checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkbox.name = heroConfigs[i].heroName.split(' ')[0];
    checkbox.value = i;
    checkbox.checked = true;
    // Add a change event listener
    checkbox.addEventListener('change', function() {
        // Code to execute when the checkbox state changes
        if (this.checked) {
            addHero(this.value);
        } else {
            removeHero(this.value);
        }
    });

    // Create label for the checkbox
    const label = document.createElement('label');
    label.appendChild(checkbox);
    label.appendChild(document.createTextNode(heroConfigs[i].heroName.split(' ')[0]));

    // Add checkbox and label to the container
    checkboxList.appendChild(label);
    checkboxList.appendChild(document.createElement('br'));

    // add hero
    addHero(i);
  };
});

var displayedHeroIds = [];

function addHero(heroId) {
    let refHeroCard = document.querySelector('.hero-card');
    let refHeroImage = document.querySelector('.hero-image');
    let heroCard = cloneHeroElements(
        refHeroCard,
        refHeroImage,
        Math.floor(displayedHeroIds.length / 2) + 1,
        displayedHeroIds.length % 2 + 1,
        heroId
    );
    new HeroConfig(heroConfigs[heroId], heroCard).updateElements();
    displayedHeroIds.push(heroId);
}

function removeHero(heroId) {
    document.querySelectorAll('[data-hero-id="' + heroId + '"]').forEach((element) => {
        element.remove();
    });
    // remove from list of displayed hero IDs
    displayedHeroIds = displayedHeroIds.filter(function(ele){
        return ele != heroId;
    });
    // shift grid cells
    for (let i = 0; i < displayedHeroIds.length; i++) {
        let heroId = displayedHeroIds[i];
        let row = Math.floor(i / 2) + 1;
        let col = i % 2 + 1;
        document.querySelectorAll('[data-hero-id="' + heroId + '"]').forEach((element) => {
            setGridRowCol(element, row, col);
        });
    }
}

function cloneHeroElements(heroCard, heroImage, row, col, heroId) {
    const heroCard2 = heroCard.cloneNode(true);
    const heroImage2 = heroImage.cloneNode(true);
    heroCard2.style.display = '';
    heroImage2.style.display = '';
    heroCard2.setAttribute('data-hero-id', heroId);
    heroImage2.setAttribute('data-hero-id', heroId);

    setGridRowCol(heroCard2, row, col);
    setGridRowCol(heroImage2, row, col);

    document.querySelector('.grid-wrapper').appendChild(heroImage2);
    document.querySelector('.grid-wrapper').appendChild(heroCard2);
    return heroCard2;
}

function setGridRowCol(element, row, col) {
    element.style.gridRow = row;
    element.style.gridColumn = col;
}
